<?xml version="1.0"?>
<GPS>
  <action name="build-clean-root-project" category="Builder">
    <shell output="none">Project.scenario_variables_cmd_line -X</shell>
    <shell output="none">Project.root</shell>
    <shell output="none">Project.get_attribute_as_string %1 "gnat" "ide"</shell>
    <external server="build_server">%1 clean "%PPs" %3</external>
    <shell output="none">Console "Messages"</shell>
    <shell output="none">MDI.get_by_child %1</shell>
    <shell output="none">MDIWindow.raise_window %1</shell>
  </action>
  <menu action="build-clean-root-project" after="Make">
    <title>/Build/C_lean/_Root Project</title>
  </menu>
  <action name="build-clean-all-root-project" category="Builder">
    <shell output="none">Project.scenario_variables_cmd_line -X</shell>
    <shell output="none">Project.root</shell>
    <shell output="none">Project.get_attribute_as_string %1 "gnat" "ide"</shell>
    <external server="build_server">%1 clean -r "%PPs" %3</external>
    <shell output="none">Console "Messages"</shell>
    <shell output="none">MDI.get_by_child %1</shell>
    <shell output="none">MDIWindow.raise_window %1</shell>
  </action>
  <menu action="build-clean-all-root-project" after="Clean">
    <title>/Build/C_lean/_All</title>
  </menu>

  <action name="build-clean-subproject" category="Builder">
    <shell output="none">Project.scenario_variables_cmd_line -X</shell>
    <shell output="none">Project.root</shell>
    <shell output="none">Project.get_attribute_as_string %1 "gnat" "ide"</shell>
    <external server="build_server">%1 clean "%pps" %3</external>
    <shell output="none">Console "Messages"</shell>
    <shell output="none">MDI.get_by_child %1</shell>
    <shell output="none">MDIWindow.raise_window %1</shell>
    <filter id="Explorer_Project_Node"/>
  </action>

  <contextual action="build-clean-subproject">
    <title>Build/Clean</title>
  </contextual>
</GPS>

