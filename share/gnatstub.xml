<?xml version="1.0" ?>

<!--  This file adds support for the gnatstub utility.
      This external tool creates the Ada body from an Ada spec -->

<gnatstub>
   <action name="Generate body" output="none" >
      <description>Generate the body for an Ada spec file</description>
      <!-- This action only applies to Ada files -->
      <filter language="ada" 
              error="Body generation for non Ada files not yet supported" />

      <!-- Generate and load the body -->
      <shell>save_all</shell>
      <shell>scenario_variables_cmd_line -X</shell>
      <external output="" 
                on-failure="locations_parse &quot;&quot;&quot;%1 &quot;&quot;&quot; gnatstub" >gnat stub %pps %1 %F %d</external>
      <shell>Project.root %p</shell>
      <shell>Project.recompute %1</shell>
      <shell>File %F</shell>
      <shell>File.other_file %1</shell>
      <shell>File.name %1</shell>
      <shell>edit %1</shell>
   </action>

   <Submenu>
     <Title>Edit</Title>
     <menu action="Generate body" before="Unit Testing" >
        <Title>Generate Body</Title>
     </menu>
   </Submenu>
</gnatstub>
