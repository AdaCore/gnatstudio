===========================================
Known problems in GPS 6.0 and GNATbench 2.8
===========================================

Copyright (C) 2013-2014, AdaCore

The following is a listing of known problems in GPS 6.0.x and GNATbench 2.8.x.
Each entry contains a status line stating when the problem was fixed, and on
which release(s). In addition, any wavefront issued subsequent to the date
specified (in ISO format YYYY-MM-DD) also contains the fix. This can be used
to determine if a given release or wavefront has the fix identified in the
entry.

Note that older releases might or might not be affected by the problems listed
in this document.

The following leading tags are used in this document to indicate:
GPS: this entry is specific to GPS
GB:  this entry is specific to GNATbench
WB:  this entry is specific to GNATbench for WorkBench
ECL: this entry is specific to GNATbench for Eclipse

If no tag is specified, the entry is relevant to all IDEs.

Known problems fixed in GPS 6.1 / GNATbench 2.9
-----------------------------------------------

KP-60-N305-041 GPS: overwriting symbolic links

  Problem:    When the preference "fast project loading" is enabled, symbolic
              links are never resolved. As a result, saving a file that is
              referenced through a symbolic link replaces the link with
              a regular file, but does not modify the linked file.
              This breaks support for IBM Synergy.

  Status:     This was fixed in 6.1 on 2014-03-06

  Workaround: From Synergy, use 'sync with work area" before checking in
              changes.

KP-60-N304-024 GPS: Search in GPS does not find next character

  Problem:    Sometimes search in GPS editor gets stuck on non-Latin1
              characters.

  Status:     This was fixed in 6.1 on 2014-03-11

  Workaround: Shift cursor manually when search stucks.

KP-60-N226-028 GPS: crash when omni-search preview displays a binary file

  Problem:    When using the omni-search and it matches binary files (e.g.,
              either object files, executables, or images) the preview is
              slow and might even crash GPS in some cases.

  Status:     This was fixed in 6.1 on 2014-03-06

  Workaround: Edit the settings for the omni-search and disable the preview.
              An alternative is to make sure the object files and executables
              do not go in the project's source directories.

KP-60-N224-023 GPS: case conversion inserts extra text

  Problem:    GPS inserts text whose case has been converted at the incorrect
              position when the selection starts after last character of the
              line.

  Status:     This was fixed in 6.1 on 2014-02-27

  Workaround: Start the selection on the first character of the next line.

KP-60-N224-019 GPS: error creating call graph recursively

  Problem:    The contextual menu "Browsers/[Method Name] calls (recursively)"
              does not work.

  Status:     This was fixed in 6.1 on 2014-03-06

  Workaround: Use the "Browsers/[Method Name] calls" menu instead.

KP-60-N220-040 GPS: "Close all other editors" does nothing

  Problem:    The "Close all other editors" menu does not work when activated
              from contextual menu of source editor's tabs.

  Status:     This was fixed in 6.1 on 2014-02-24

  Workaround: Use the global menu "/File/Close All Editors except Current".

KP-60-N215-001 GPS: error when process lasts more than 24 hours

  Problem:    GPS displays the elapsed time for external processes. This
              fails when the process has run for more than 24 hours.

  Status:     This was fixed in 6.1 on 2014-02-17

  Workaround: This only impacts the display; the process itself has correctly
              finished executing.

KP-60-N214-038 GPS: background color for ispell.py not loaded properly

  Problem:    When you change the highlight color used by the ispell plug-in
              via the preferences dialog, the new color is not properly loaded
              the next time GPS is started.

  Status:     This was fixed in 6.1 on 2014-02-17

  Workaround: Setting the preference works for the current session of GPS. You
              can also write a small python plug-in that contains the
              following code:
                  import GPS
                  GPS.Preference("Plugins/ispell/bgcolor").set("your_color")

KP-60-N213-046 GPS: lockup on code block folding

  Problem:    GPS can lock up when folding code blocks when a user defined code
              highlight color is used.

  Status:     This was fixed in 6.1 on 2014-02-27

  Workaround: Disable user defined code highlight colors.

KP-60-N211-025 GPS: Issue with highlighters

  Problem:    In any python code using highlighter.OverlayStyle with
              use_messages = True, an exception would be raised and the code
              wouldn't work properly. This would cause an issue with the
              auto_highlight_occurences plugin when configured to use the
              speedbar.

  Status:     This was fixed in 6.1 on 2014-02-12

  Workaround: Use auto_highlight_occurences without the "show in speedbar"
              option activated.

KP-60-N210-037 GB: Eclipse/Workbench load hangs during 90 seconds

  Problem:    When starting GNATbench, the plugin loading progress stops for
              90 seconds. The error log contains multiple timeout errors
              while loading class.

  Status:     This was fixed in 2.9 on 2014-02-10

  Workaround: Close all Ada projects, restart GNATbench, and open
              needed projects.

KP-60-N207-040 GB: Eclipse UI freeze just after starting to use GNATbench.

  Problem:    When the Eclipse help subsystem is accessed before the
              GNATbench UI plugin initialization was started, the UI may
              randomly freeze.

  Status:     This was fixed in 2.9 on 2014-02-10

  Workaround: Kill and restart GNATbench

KP-60-N205-040 Wrong indentation of separate protected

  Problem:    The indentation of "protected xxx is separate" constructs is not
              handled properly, causing an exra indentation level.

  Status:     This was fixed in 6.1 on 2014-02-06

  Workaround: Do not declare the protected object as separate.

KP-60-N205-018 GPS: get_executable_name is case sensitive

  Problem:    The python function get_executable_name does not work on Windows
              when a file has an upper-case name (because the name is
              lower-cased internally by GPS, so it does not find the
              Main'Executable attribute for it in the project file).

  Status:     This was fixed in 6.1 on 2014-02-06

  Workaround: Rename the file into all lower-case.

KP-60-N131-001 GPS crashes on completion

  Problem:    When creating a new default project in an empty directory,
              creating an empty main.adb file, and typing "procedure Main is",
              dynamic completion would crash GPS with a segfault.

  Status:     This was fixed in 6.1 on 2014-02-07

  Workaround: Deactivate dynamic completion.

KP-60-N129-024 GPS: memory leak when folding/unfolding code blocks

  Problem:    Folding/unfolding code blocks result in significant memory leaks.

  Status:     This was fixed in 6.1 on 2014-02-10

  Workaround: Avoid use of folding/unfolding code block actions or restart GPS
              periodically.

KP-60-N129-021 WB: "Toggle Breakpoint" not working in Workbench-3.3.5

  Problem:    Double clicking in the Ada Editor ruler does nothing. The
              "Toggle Breakpoint" contextual menu only displays "The chosen
              operation is not currently available" information message.

  Status:     This was fixed in 2.9 on 2014-02-11

  Workaround: Use the "Breakpoints > Add Breakpoint..." contextual menu or,
              in the Debug perspective, use the "Run > Toggle Breakpoint
              Ctrl+Shift+B)" menu.

KP-60-N127-011 GPS: Builder switch "--RTS=.../path/to/runtime_dir"

  Problem:    When in the main project and the Builder switches include --RTS=
              with a relative path, GPS fails to successfully load the
              project.

  Status:     This was fixed in 6.1 on 2014-01-28

  Workaround: Avoid these Builder switches.

KP-60-N116-040 GPS: Completion mechanism crashes GPS

  Problem:    When using dynamic completion in some specific scenarios, the
              completion resolver for ada constructs would make GPS crash.

  Status:     This was fixed in 6.1 on 2014-01-17

  Workaround: Deactivate dynamic completion or don't use completion in those
              scenarios.

KP-60-N109-027 GPS: incorrect display of abstract entities in entities browser

  Problem:    When an entity is an abstract record, its display in the
              browser duplicates all its fields and does not list its
              methods.

  Status:     This was fixed in 6.1 on 2014-01-30

  Workaround: If you can edit the sqlite database, execute the following
              command on it (only needed the first time it is created, not
              every time it is updated):
                 sqlite3 root_object_dir/gnatinspect.db
                 > update entity_kinds set has_methods="t" where id="H";

KP-60-MC16-032 GPS: Source window not scrolling after auto complete

  Problem:    When auto-completing manually (via Ctrl+Space, for example), if
              the cursor location after the completion is outside of the
              screen, the source editor won't scroll to show the cursor.

  Status:     This was fixed in 6.1 on 2014-01-17

  Workaround: Scroll manually.

KP-60-MC13-038 GPS: MDI child "flicker" while being moved

  Problem:    When moving MDI children between notebooks, some visual
              flickering was occuring.

  Status:     This was fixed in 6.1 on 2014-01-07

  Workaround: Ignore the flickering, which is only a visual side effect.

KP-60-MC12-058 GPS: Inconsistent behavior of Previous/Next Location buttons

  Problem:    Navigation from Location View, Outline View and some others
              are not saved in the navigation history.

  Status:     This was fixed in 6.1 on 2014-02-04

  Workaround: Use bookmarks instead of navigation history.

KP-60-MC11-034 GPS: Block completions not working in all cases

  Problem:    The block completion plug-in was not working with simple begin
              blocks, generic packages, procedures and functions.

  Status:     This was fixed in 6.1 on 2014-01-12

  Workaround: Complete the blocks manually.

KP-60-MC09-035 GPS: Color problems with Open Text Exceed 14 X server

  Problem:    When using GPS through the Open Text Exceed 14 X server, all text
              and some widgets are rendered in white, regardless of the
              original color.

  Status:     This was fixed in 6.1 on 2014-01-30

  Workaround: Use another X Server (Cygwin's for example).

KP-60-MC05-046 GB: Highlight space in GB editor

  Problem:    When text is highlighted and the space bar is pressed, the
              GB Ada editor doesn't replace the highlighted text with space,
              instead, it inserts the space in front of the highlighted text.

  Status:     This was fixed in 2.9 on 2014-02-10

  Workaround: No workaround needed.

KP-60-MC05-001 GPS: Keyboard not working in editor's contextual menus

  Problem:    When in a contextual menu in the editor, keys are grabbed by
              the editor instead of the menu.

  Status:     This was fixed in 6.1 on 2013-12-09

  Workaround: Use the mouse to navigate the contextual menus.

KP-60-MC04-015 GPS: doesn't launch after opening non-ASCII named file

  Problem:    When the history of recently open files contains names with
              non-ASCII characters, GPS sometime fails to start.

  Status:     This was fixed in 6.1 on 2013-12-05

  Workaround: Set the locale to UTF-8 before launching GPS.

KP-60-MB29-031 GPS: rsync failures in remote mode

  Problem:    When syncing remote and local directories using rsync and a
              password is requested, the rsync fails and GPS is not
              asking the use for a password.

  Status:     This was fixed in 6.1 on 2014-02-11

  Workaround: Use a passwordless connection via an ssh agent, for example, or
              use network directories.

KP-60-MB26-015 GB: Show complete command line in command line editor

  Problem:    When editing the command line before launching the action
              (ex: SPARK2014 > Prove Subprogram), the command line displayed at
              the bottom is incomplete.

  Status:     This was fixed in 2.9 on 2013-11-27

  Workaround: You can ignore this visual glitch.

KP-60-MB22-035 GPS: cannot launch browswer from GPS

  Problem:    Sometimes environment variables exported by GPS wrapper
              prevent the launch of a browser.

  Status:     This was fixed in 6.1 on 2014-01-30

  Workaround: Write a shell wrapper to launch the browser in a corrected
              environment. Then specify the wrapper as the browser command
              in GPS preferences.

KP-60-MB20-048 GB: code assist enable not applied to open editors

  Problem:    Enabling or disabling code assist from the preferences
              does not apply it to open editors.

  Status:     This was fixed in 2.9 on 2013-11-25

  Workaround: Close and reopen the editor(s).

KP-60-MB15-050 GPS: Color Theme preference always says "Custom"

  Problem:    If the color scheme is changed in GPS preferences, the combobox
              displays the "Custom" value.

  Status:     This was fixed in 6.1 on 2014-02-04

  Workaround: Ignore the displayed value.

KP-60-MB14-058 GPS: the "next tag" action does not select the first item

  Problem:    In the Locations view, if the currently selected node is
              a file node, using the "next tag" action or the "Navigate->Next
              Locations" menu, the second message node is highlighted.

  Status:     This was fixed in 6.1 on 2013-11-14

  Workaround: Use the "previous tag" action to visit the first node.

KP-60-MB13-062 GPS: key shortcuts not displayed in some Build menus

  Problem:    Key shortcuts are not displayed in some menus that
              are present under the Build toplevel menu.

  Status:     This was fixed in 6.1 on 2013-11-13

  Workaround: Use the key shortcut editor to see the corresponding shortcuts.

KP-60-MB06-009 GPS: "add to extending project" hides existing files

  Problem:    If you load an extending project in GPS, there is a new
              contextual menu "Add to extending project" which can be
              used to conveniently copy files from the extended project
              into the extending one. However, if the extending project
              was created manually and is not using the Source_Files
              attribute, the files that were visible are no longer visible.

  Status:     This was fixed in 6.1 on 2013-11-18

  Workaround: Edit the extending project and remove the Source_Files
              attribute.

KP-60-MB01-006 GPS: create_missing_dirs not working with trailing separators

  Problem:    The plugin create_missing_dirs.py does not create directories
              that are specified with a trailing directory separator.

  Status:     This was fixed in 6.1 on 2013-11-01

  Workaround: Create the directories manually or remove the directory
              separator at the end of the directory specification.

KP-60-MA29-025 GPS: Search in a floating window

  Problem:    When a floating window source editor is open as well as a
              non floating one, focusing on the floating window and using the
              search window to search into it would search in the non floating
              window.

  Status:     This was fixed in 6.1 on 2013-11-05

  Workaround: Clicking on the window two times will make the search work
              properly.

KP-60-MA29-023 GPS: Goto declaration/body with a floating window

  Problem:    When a spec (ads) file is open in a non floating window and
              the corresponding body is open in a floating window, using
              "go-to body" in the spec does not scroll to the corresponding
              location in the body.

  Status:     This was fixed in 6.1 on 2013-11-04

  Workaround: Use "goto declaration/body" with non floating windows.

KP-60-MA24-011 GB: UI freeze importing existing GNAT project

  Problem:    When running menu "File => Import... => Ada => Existing GNAT
              Project" and an imported folder already exists in the
              workspace's file system, the UI sometimes stops responding.

  Status:     This was fixed in 2.9 on 2014-01-14

  Workaround: Kill the GNATbench process and retry the operation. Before
              retrying the import operation, you may have to manually delete
              the folders you want to import.

KP-60-M918-001 Wrong indentation of complex entry

  Problem:    When indenting entries with parametrized conditions such as
                entry Received when Arrived (From) is
              the indentation gets confused for the rest of the file.

  Status:     This was fixed in 6.1 on 2014-02-06

  Workaround: Fix the indentation manually or avoid this construct.

KP-60-JC07-006 GPS: rsh leaving remote processes as zombies in remote mode.

  Problem:    When using GPS remote mode with rsh, spawned remote processes
              may not be properly terminated before the rsh connection is
              closed. This may lead to zombie processes remaining on the
              remote host.  Note that rsh support by GPS has now been
              deprecated, as rsh is not in active development anymore and has
              been replaced by secure and more robust solutions such as ssh.

  Status:     This was fixed in 6.1 on 2013-10-31

  Workaround: Use ssh instead. If absolutely needed, you can re-enable rsh
              support by using the remote_rsh.py plugin, to be activated from
              the Tools->Plug-ins menu.

KP-60-G928-018 GPS: "center cursor on screen" scrolls horizontally

  Problem:    Using the "center cursor on screen" action causes unwanted
              horizontal scrolling in editors.

  Status:     This was fixed in 6.1 on 2014-11-05

  Workaround: Scroll manually.

Known problems fixed in GPS 6.0.2 / GNATbench 2.8.2
---------------------------------------------------

KP-60-N225-041 GPS: wrong color of documentation window in smart completion

  Problem:    When using smart completion, with the default or Adwaita
              themes, the background of the documentation window is black,
              making contents hard to read.

  Status:     This was fixed in 6.1 on 2014-02-25
              This was fixed in 6.0.2 on 2014-03-07

  Workaround: Switch to another theme, or edit the CSS file to change the
              foreground color.

KP-60-N218-041 GPS: cannot install from directory with spaces under unix

  Problem:    When running the doinstall installer under unix systems, the
              installation fails if doinstall is in a pathname
              containing spaces.

  Status:     This was fixed in 6.1 on 2014-02-20
              This was fixed in 6.0.2 on 2014-02-20

  Workaround: Extract the gps archive into a directory with no spaces.

KP-60-N116-013 GPS: custom VCS action "diff_working" is not supported

  Problem:    It is not possible to extend an existing VCS to use the
              "diff_working" action defined in the documentation.

  Status:     This was fixed in 6.1 on 2014-01-16
              This was fixed in 6.0.2 on 2014-01-16

  Workaround: Use one of the other "diff" actions available.
