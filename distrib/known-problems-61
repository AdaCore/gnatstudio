===========================================
Known problems in GPS 6.1 and GNATbench 2.8
===========================================

Copyright (C) 2013-2015, AdaCore

The following is a listing of known problems in GPS 6.0.x and GNATbench 2.8.x.
Each entry contains a status line stating when the problem was fixed, and on
which release(s). In addition, any wavefront issued subsequent to the date
specified (in ISO format YYYY-MM-DD) also contains the fix. This can be used
to determine if a given release or wavefront has the fix identified in the
entry.

Note that older releases might or might not be affected by the problems listed
in this document.

The following leading tags are used in this document to indicate:
GPS: this entry is specific to GPS
GB:  this entry is specific to GNATbench
WB:  this entry is specific to GNATbench for WorkBench
ECL: this entry is specific to GNATbench for Eclipse

If no tag is specified, the entry is relevant to all IDEs.

Known problems fixed in GPS 6.2 / GNATbench 2.10
------------------------------------------------

KP-61-O228-001 GPS: targets with mode 'Manually' launch without dialog

  Problem:    The build targets which have launch mode 'Manually' launch
              without a dialog when invoked from the global menu, instead
              of presenting the command line dialog.

  Status:     This was fixed in 6.2 on 2015-03-03

  Workaround: Switch the target to mode "Manually with dialog".

KP-61-O227-005 GPS: Align command depends on auto-indent preference

  Problem:    The Align contextual menu does not work if the auto-indentation
              is set to 'None'.

  Status:     This was fixed in 6.2 on 2015-03-04

  Workaround: Delete lines with 'indent' call in align.py file.

KP-61-O213-020 GPS: renamed action in eclipse.py

  Problem:    The eclipse.py provides an action that deletes all the lines
              that are at least partially selected. This action was named
              "delete line", which created a conflict with a similar built-in
              action, so it was renamed to "delete selected lines". You
              might need to update your key shortcuts.

  Status:     This was fixed in 6.2 on 2015-02-13

  Workaround: eclipse.py is not loaded by default. When you load it, you
              are getting an error message in the GPS Message view, which
              can be safely ignored.

KP-61-O204-044 GB: comment between 'null' and ')' in subprogram definition

  Problem:    Having in a subprogram definition (specification or body) the
              last parameter default value equal to 'null' and having a
              comment between this 'null' default value and the ')' character
              closing the parameters list, generates unhandled ada exceptions
              in ada_analyzer package, and brakes tooltips & code assist
              feature.

  Status:     This was fixed in 2.10 on 2015-02-11

  Workaround: Move the comment before the last parameter, or use a constant
              instead of 'null' to set the default value.
              ex: MY_TYPE_NULL_DEFAULT_VALUE : constant My_Type := null;
              Restart the Eclipse or Workbench platform.

KP-61-O204-017 GB: random crash after code assist popup display

  Problem:    After code assist popup was displayed to propose possible
              completions, Eclipse/Workbench sometimes crashes.

  Status:     This was fixed in 2.10 on 2015-02-09

  Workaround: Disable Code Assist feature through Ada/Tools preference page.

KP-61-O202-032 GB: <Ctrl> click hyperlink not working in ada editor

  Problem:    When the ada editor is opened from the problem view, the
              hyperlink navigation is not working.

  Status:     This was fixed in 2.10 on 2015-02-06

  Workaround: Close the editor, open it from the project editor view.

KP-61-O120-002 GPS: cannot force background color for editors

  Problem:    The python method GPS.Editor.set_background_color has no
              effect (and neither does the colors.py example which shows
              how to show the background color of editors based on their
              extension).

  Status:     This was fixed in 6.2.0 on 2015-01-20

  Workaround: None, the colors are hard-coded in Ada.

KP-61-O116-007 GPS: selecting -gnatp automatically adds -gnatVn

  Problem:    In the Project Properties dialog, adding the "Suppress All
              Checks" as a switch for the Ada sources adds both -gnatp
              and -gnatVn on the command line. Although this is correct
              (since in the compiler -gnatp automatically also disables
              validity checks), this was also a bit confusing.

  Status:     This was fixed in 6.2.0 on 2015-02-04

  Workaround: Leave both switches, or manually remove -gnatVn if you
              prefer. The behavior of the compiler is the same in both
              cases.

KP-61-O113-020 GPS: build targets refer to "gnatmake"

  Problem:    Some GPS build targets (such as "Check syntax") still invoke
              gnatmake instead of the more modern gprbuild.

  Status:     This was fixed in 6.2.0 on 2015-01-22

  Workaround: Use the Target Configuration dialog to change manually the
              targets to use "%builder" instead of "%gnatmake".

KP-61-O112-033 GNATdoc: fail when project file is symbolic link

  Problem:    GNATdoc fails when the project file is a symbolic link to a
              regular file.

  Status:     This was fixed in 6.2.0 on 2015-01-14

  Workaround: Copy the project file to a regular file and pass its name to
              GNATdoc.

KP-61-NC12-038 GPS: find/replace in current selection does not work

  Problem:    The function Replace All in "Current Selection" scope could
              cause as replacement in an incorrect text position, or no
              replacement at all.

  Status:     This was fixed in 6.2.0 on 2015-01-12

  Workaround: Use the "Replace & Find" button and select occurrences manually.

KP-61-NB27-029 GPS: floating window could be restored on second monitor

  Problem:    GPS stores the position of floating windows when they are closed
              so that it can restore that position the next time the window is
              opened. However, that position could be on another monitor,
              which on some systems (OSX for instance) makes the window
              invisible and impossible to manipulate.

  Status:     This was fixed in 6.2.0 on 2014-11-27

  Workaround: After opening the window, select /Window/Floating to move it
              back to the GPS main window.

KP-61-NB26-010 GB: Cannot watch global variables defined in package body.

  Problem:    When selecting an expression that contains variable(s) defined in
              the package body, the expression displayed in the Add Watch
              Expression dialog doesn't add the package prefix.
              This problem also affects the tooltip feature. The current value
              of the pointed variable is not displayed by the tooltip.

              When the selection boundary is not at an identifier boundary or
              the selection is empty, the watch expression is incorrect.

  Status:     This was fixed in 2.10.0 on 2014-11-27

  Workaround: Edit the expression manually.

KP-61-NB19-029 GPS: frequent disk accesses while moving cursor in editors

  Problem:    Whenever the cursor moves in the editor, GPS recomputes some
              information about the current location, which might result in
              frequent disk accesses. On slower machines, this might slow down
              GPS.

  Status:     This was fixed in 6.2.0 on 2015-01-06

  Workaround: This is hardly noticeable on most machines.

KP-61-NB12-012 GPS: incorrect gnat driver for gnatstub and gnatmetric

  Problem:    GPS does not use the proper cross driver (<target>-gnat) when
              launching gnat stub for generating bodies and gnat metric for
              computing metrics.

  Status:     This was fixed in 6.2.0 on 2014-12-11

  Workaround: Launch the tools manually.

KP-61-NB10-016 GPS: corrupt notebook tabs when reordering

  Problem:    When using the mouse to reorder editors within a notebook, and
              then dragging the editor to some other place, it is possible
              that the display gets corrupted.

  Status:     This was fixed in 6.2.0 on 2015-01-13

  Workaround: When this happens, you can still select editors with the
              /Windows menu for instance. Or restart GPS to refresh the GUI.

KP-61-N930-046 GPS: Debuggee still running after debugger terminated

  Problem:    When closing a debugger session, if the program being debugged
              was running, it might continue to run even after the debugger
              has been terminated.

  Status:     This was fixed in 6.2.0 on 2014-11-12

  Workaround: Interrupt the program before closing the debugger.

KP-61-N911-027 GB: auto-generated GB files not created upon svn checkout

  Problem:     When using WRWB and Polarion svn to check out WR DKM/RTP
               projects, the gpr-gpp.makefle, powerpc-wrs-vxworks.cgpr
               and scenario.makefile are not created as expected.

  Status:      This is fixed in 2.10 on 2014-12-18.

  Workaround:  Right click project, then properties, then Gnatbench
               properties and touch something(e.g. deselect root project),
               APPLY, select is root project, hit OK. This will create
               the necessary files.

KP-61-N822-004 GPS: Input focus when creating/opening new windows

  Problem:    After switching from a floating windows to a non-floating one
              using keyboard shortcuts, GPS keeps the focus in the floating
              window.

  Status:     This was fixed in 6.2.0 on 2014-12-03

  Workaround: Use the mouse or Windows Manager shortcuts to switch between
              windows.

Known problems fixed in GPS 6.1.2 / GNATbench 2.9.2
---------------------------------------------------

KP-61-NB10-025 GPS: problems when clicking on Ada files outside of GPS

  Problem:    Under Windows, when clicking on Ada files in the Windows explorer
              to open GPS, a window might pop up saying:
              "There was a problem sending the command to the program".
              Under Windows XP, the Windows Explorer might freeze while GPS is
              running.

  Status:     This was fixed in 6.1.2 on 2015-02-23

  Workaround: Open the file from within a running GPS.
              Alternatively, set the environment variable
              "DBUS_SESSION_BUS_ADDRESS" to the value "null".

Known problems fixed in GPS 6.1.1 / GNATbench 2.9.1
---------------------------------------------------

KP-61-NC18-028 GPS: "target already registered" error messages

  Problem:    After editing build targets, GPS displays error messages
              indicating "target already registered" in the Messages view
              on startup.

  Status:     This was fixed in 6.1.1 on 2014-12-19

  Workaround: None. These messages can be safely ignored.

KP-61-NC10-014 GB: popup error dialog displayed on Ada editor switch

  Problem:    Sometimes when activating/desactivating ada editor, a popup error
              dialog is displayed.

              The error details reports:
              ada_analyzer.adb:3422 range check failed

  Status:     This was fixed in 2.9.1 on 2014-12-19

  Workaround: The error can be safely ignored.

KP-61-NC04-017 GPS: error on startup with plugin prevent_project_edition.py

  Problem:    Enabling the prevent_project_edition.py plugin causes an error
              on GPS start up.

  Status:     This was fixed in 6.1.1 on 2014-12-05

  Workaround: Fix manually the menu names in prevent_project_edition.py.

KP-61-NC03-015 WB: white lines in the Wind River Workbench Build Targets tree

  Problem:    In the Project Explorer view, a lot of nodes with no labels are
              displayed in the Build Targets tree of any Wind River Workbench
              projects.

  Status:     This was fixed in 2.9.1 on 2014-12-18

  Workaround: None.

KP-61-NC01-048 GB: Ada 2102 reserved word "some" not displayed as a keyword.

  Problem:    The Ada 2012 reserved word "some" is not highlighted in the Ada
              Editor as a keyword, but as a standard identifier.

  Status:     This was fixed in 2.9.1 on 2014-12-19

  Workaround: None.

KP-61-NC01-009 GPS: unreadable fonts under Solaris

  Problem:    Under Solaris 10, the fonts might be unreadable or render
              with all characters replaced by a square.

  Status:     This was fixed in 6.1.1 on 2014-01-02

  Workaround: in the GPS installation, edit the file etc/fonts/fonts.conf.
              After line 26, add the following two lines:
                <dir>/usr/openwin/lib/X11/fonts/75dpi</dir>
                <dir>/usr/openwin/lib/X11/fonts/100dpi</dir>

KP-61-NB19-042 GPS: CodePeer's Analyze File menu item is missing

  Problem:    Analyze File menu item is not displayed in CodePeer menu.

  Status:     This was fixed in 6.1.1 on 2014-12-18

  Workaround: Use Analyze File by File menu.

KP-61-NB18-009 GB: Cannot open Ada Editor.

  Problem:    Sometimes opening Ada editor fails, indicating that the Ada
              editor could not be initialized because of a
              NullPointerException. After this occurs, the file cannot be
              opened anymore in the Ada editor.

  Status:     This was fixed in 2.9.1 on 2014-12-19

  Workaround: Edit the file using the standard text editor or restart
              GNATbench.

KP-61-NB13-049 GPS: slow navigation between messages in Locations view

  Problem:    In some cases navigation between CodePeer's messages in Locations
              view makes GPS non responsible for few seconds.

  Status:     This was fixed in 6.1.1 on 2014-12-09

  Workaround: None.

KP-61-NB12-023 ECL: Cannot set breakpoints on Eclipse Luna

  Problem:    On Eclipse 4.4, when debugging an Ada Application (using the
              menu Debug As -> Ada Application), no breakpoints can be set.

  Status:     This was fixed in 2.9.1 on 2014-12.18

  Workaround: Launch debugger using Debug As => C/C++ Application menu. Set
              Ada Event Breakpoints using the GDB console view.

KP-61-NB11-004 GPS: emacs key shortcuts lost

  Problem:    If you had enabled the emacs.py plugin in GPS 6.0.2 or earlier,
              the key shortcuts were lost in the transition to GPS 6.1.0.
              We now provide a dummy emacs.py to help with the transition

  Status:     This was fixed in 6.1.1 on 2014-12-11

  Workaround: Use the menu Edit->Key Shortcuts to enable the Emacs shortcuts.

KP-61-NB10-019 GB: Cannot analyze file or projects sources

  Problem:    A Problem Occured error box is displayed when running the
              "Analyze Ada File" or "Analyze Project Sources" actions.
              The problem details contains the following message:
              Build_Configurations.Mode_Map.Element: key not in map

  Status:     This was fixed in 2.9.1 on 2014-12-18

  Workaround: Use compile or build actions to run the analyze.

KP-61-NB06-027 GPS: Delete not working correctly at beginning/end of file

  Problem:    When using delete at the end of the file, or backspace at the
              beginning of the file, GPS should do nothing, but instead does
              delete a character in the wrong direction.

  Status:     This was fixed in 6.1.1 on 2014-11-13

  Workaround: Don't use delete operations at beginning/end of file

KP-61-NB05-034 GPS: not reusing existing editor

  Problem:    In some cases, GPS does not reuse an existing editor for a file,
              but instead opens a new editor. This leads to confusion. This
              seems to happen mostly when creating and saving new files.

  Status:     This was fixed in 6.1.1 on 2014-11-06

  Workaround: After saving a new file, close the editor and reopen it.

KP-61-NA31-056 WB: Cannot edit GNAT project properties through the GPS dialog

  Problem:    When running GNAT Project => Edit Properties menu, the GPS
              project properties dialog is not displayed.

  Status:     This was fixed in 2.9.1 on 2014-12-01

  Workaround: Use the GPR file test editor, or edit externally the GPR file
              using GPS.

KP-61-NA27-039 GPS: incorrect highlight of changed value in debugger data

  Problem:    When the debugger refreshes the contents of the data window,
              some values are left highlighted in red as if they had just
              been modified, even when they were modified during some previous
              step.

  Status:     This was fixed in 6.1.1 on 2014-11-05

  Workaround: This only impact the colors, the actual values are correct.

KP-61-NA17-042 WB: SIGSEGV crash when opening large programs

  Problem:    Opening a large GNAT project in Wind River Workbench, generates
              a Java Virtual Machine crash in GNATbench library native code.
              Deleting the generated b__prj_main ada file allows to restart
              Wind River Workbench.

  Status:     This was fixed in 2.9.1 on 2014-11-18

  Workaround: Add in eclipse/workbench ini file a -Xss (ex: -Xss1M) vmargs
              option to set larger thread stack size.

KP-61-N604-003 GPS: scroll bars not displayed in editors

  Problem:    After restarting GPS some windows do not have scrollbars, but
              the text is positioned in a such way that the top part of the
              file is above the top of the editor window. This prevents normal
              navigation it the file.

  Status:     This was fixed in 6.1.1 on 2014-11-19

  Workaround: Close and reopen the editor.
