#!/bin/sh
# .gps_wrapper
#
# Copyright 2002 by ACT Europe.

prog=`basename $0`
root=`dirname $0`

# Strip 'bin' directory to retrieve the real root

root=`dirname $root`
LD_LIBRARY_PATH=$root/lib:$LD_LIBRARY_PATH
PANGO_RC_FILE=$root/etc/gps/pangorc
GTK_IM_MODULE_FILE=$root/etc/gps/gtk.immodules
GTK_DATA_PREFIX=$root
MAKE_ROOT=$root

# Gtk+ does not like when no CHARSET is set, so use Latin-1 by default:

if [ "x$CHARSET" = "x" ]; then
   CHARSET=ISO-8859-1
   export CHARSET
fi

export LD_LIBRARY_PATH PANGO_RC_FILE GTK_DATA_PREFIX
export GTK_IM_MODULE_FILE MAKE_ROOT
GDK_USE_XFT=False
exec $root/bin/${prog}_exe "$@"
