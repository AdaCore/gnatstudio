#!/bin/sh
# .gps_wrapper
#
# Copyright 2002-2005 by AdaCore

prog=`basename $0`
root=`dirname $0`

# Strip 'bin' directory to retrieve the real root

if [ $root = "." ]; then
   root=`cd ..; pwd`
else
   root=`dirname $root`
fi

GPS_STARTUP_LD_LIBRARY_PATH=$LD_LIBRARY_PATH
GPS_STARTUP_PATH=$PATH
export GPS_STARTUP_LD_LIBRARY_PATH GPS_STARTUP_PATH

LD_LIBRARY_PATH=$root/lib/gps:$root/lib:$LD_LIBRARY_PATH
GTK_DATA_PREFIX=$root

if [ "$GPS_DOC_PATH" = "" ]; then
   GPS_DOC_PATH=$root/doc/gnat/html:$root/doc/gnat-cross/html
else
   GPS_DOC_PATH=$GPS_DOC_PATH:$root/doc/gnat/html:$root/doc/gnat-cross/html
fi

export LD_LIBRARY_PATH GTK_DATA_PREFIX GPS_DOC_PATH

exec $root/bin/${prog}_exe "$@"
