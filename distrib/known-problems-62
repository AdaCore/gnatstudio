============================================
Known problems in GPS 6.2 and GNATbench 2.10
============================================

Copyright (C) 2013-2016, AdaCore

The following is a listing of known problems in GPS 6.2.x and GNATbench 2.10.x.
Each entry contains a status line stating when the problem was fixed, and on
which release(s). In addition, any wavefront issued subsequent to the date
specified (in ISO format YYYY-MM-DD) also contains the fix. This can be used
to determine if a given release or wavefront has the fix identified in the
entry.

Note that older releases might or might not be affected by the problems listed
in this document.

The following leading tags are used in this document to indicate:
GPS: this entry is specific to GPS
GB:  this entry is specific to GNATbench
WB:  this entry is specific to GNATbench for WorkBench
ECL: this entry is specific to GNATbench for Eclipse

If no tag is specified, the entry is relevant to all IDEs.

Known problems fixed in GPS 17.0 / GNATbench 17.0
-------------------------------------------------

KP-62-P201-089 GPS: inconsistence of message counters in CodePeer report

  Problem:    Message counters in CodePeer Report view and Locations view is
              inconsistence in some combinations of selection of check
              categories.

  Status:     This was fixed in 17.0 on 2016-02-03

  Workaround: Not needed.

KP-62-P201-061 GPS: exception raised when typing ':' in the omnisearch

  Problem:    Searching for a pattern that begins with the ':' character in
              the omnisearch bar raises a Constraint_Error. This problem only
              appears when the search provider for filenames is enabled.

  Status:     This was fixed in 17.0 on 2016-02-02

  Workaround: Not needed.

KP-62-P128-011 GPS: key shortcuts not working on read-only editors

  Problem:    Using key shortcuts based on 'control' and a character
              (for instance control-a for "select all") do not work on
              readonly editors.

  Status:     This was fixed in 17.0 on 2016-01-28

  Workaround: Make the editor temporarily writable by clicking on the
              icon in the bottom-right corner.

KP-62-P126-014 WB: wrs_rtp_base defined more than once on VxWorks-7 RTP builds.

  Problem:    When building VxWorks 7 Real Time Process, __wrs_rtp_base can be
              defined more than once.

  Status:     This was fixed in 17.0 on 2016-01-28

  Workaround: In gnat.makefile, add after gprbuild invocation, the following
              line.
              objcopypentium -L __wrs_rtp_base $(GPRBUILD_OBJECT)
              Note: You may have to call objcopyppc or objcopyarm instead of
              objcopypentium.

KP-62-P122-042 GPS: invisible cursor after using incremental search

  Problem:    Cursor in the editor is no more visible after using the
              incremental search. This happens on Microsoft Windows only.

  Status:     This was fixed in 17.0 on 2016-02-08

  Workaround: Switch to a floating GPS windows and back to make cursor
              visible.

KP-62-P121-016 WB: undefined reference to `_Unwind_Resume'

  Problem:    When building VxWorks Cert 6.x Real Time Process (RTP)
              Application using rtp runtime, a lot of undefined reference to
              _Unwind_* problems are reported

  Status:     This was fixed in 17.0 on 2016-01-22

  Workaround: Use RUNTIME=zfp or ravenscar-cert-rtp to build the RTP. Depending
              on the RTP's GNAT project file, the RUNTIME used to build it can
              be changed:
              - editing RTP's gnat.makefile file
              - changing RTP's RUNTIME value using the Scenario Variables view.

KP-62-P113-013 GPS: cannot display standard.ads on cross platform

  Problem:    When the system is configured for a cross or bareboard platform,
              GPS is not able to display /Help/GNAT Runtime/Standard. This
              package needs to be dynamically computed by the compiler, and
              using gnatmake does not work in such a context. The GPS plug-in
              was updated to use gprbuild instead.

  Status:     This was fixed in 17.0 on 2016-01-14

  Workaround: On the command line, run
              'gprbuild -c -gnatc -gnatS -P<project> <file>' where project is
              your project file and file is any source file.

KP-62-P113-008 GPS: problem with folding of directory in Project View

  Problem:    After unfolding a row in Project View by clicking on the
              arrow icon it is impossible to fold it back until some mouse
              movement.

  Status:     This was fixed in 17.0 on 2016-01-20

  Workaround: Use double click outside arrow icon or keyboard shortcuts
              to fold the row.

KP-62-P112-044 WB: multiple definition of `_dtors', `_ctors'

  Problem:    When building VxWorks 6.x Downloadable Kernel Module (DKM)
              multiple definition of `_dtors' and `_ctors' problems may be
              reported.

  Status:     This was fixed in 17.0 on 2016-01-12

  Workaround: add -noauto-register linker switch. This can be done:
              - adding the noauto-register switch in the linker package of the
                DKM GNAT project file (GPR)
                package Linker is
                    for Switches ('Ada') use ("-noauto-register");
                end Linker;
              - appending '-largs -noauto-register' to the gprbuild command in
                the DKM makefile (usually named gnat.makefile)

KP-62-P108-044 GPS: incorrect program arguments when debugging in GPS

  Problem:    When argument of a program contains backslash character
              GPS escapes it in a wrong way before pass to GDB. As a result
              all arguments are passed as single argument with escaped
              backslash characters.

  Status:     This was fixed in 17.0 on 2016-01-20

  Workaround: Use 'start <arguments>' command in GDB console of GPS instead
              of running program with F8 or 'continue' icon.

KP-62-P106-023 GB: no project opened by GPS when launched from GB on linux.

  Problem:    On linux, GPS launched by GB through "GPS debugger" debug
              configuration or through "GNAT Project/Edit Properties" menu is
              not able to open the selected GNAT project. It opens an empty
              project. The properties dialog when required is not displayed.

  Status:     This was fixed in 17.0 on 2016-01-08

  Workaround: After GPS was launched, open the GNAT Project, and when required
              to edit the properties, run Edit Project Properties menu.

KP-62-P104-018 WB: multiple definition errors when building RTP on Workbench-4

  Problem:    A real time process (RTP) application converted to an ada project
              cannot be built without manual modification.
              Building the project is failing because a lot of symbols are
              defined more than once.
              Ex: __argc, __argv, _start, environ, etc...

  Status:     This was fixed in 17.0 on 2016-01-06

  Workaround: Edit the GNAT project file (gpr) and add "-r" and "-nostdlib"
              switches to the linker package.

              package Linker is
                 for Default_Switches ("ada") use ("-r", "-nostdlib");
              end Linker;

KP-62-OC17-015 WB: error markers always at top of C/C++ files

  Problem:    Depending on the C/C++ compiler used, error markers added to
              C/C++ files during build process are all located at the top of
              the file instead of at the line reported by the marker.

  Status:     This was fixed in 17.0 on 2015-12-22

  Workaround: Disable quick fix feature. (see Ada/Tools preferences page)

KP-62-OC01-018 GPS.Exception: No file information stored in the context

  Problem:    Right clicking on the name of the project in the project pane may
              raise exception and display it in messages window when SPARK
              is installed.

  Status:     This was fixed in 17.0 on 2015-12-11

  Workaround: None.

KP-62-OB19-033 GNATdoc: protected types are not included in documentation

  Problem:    GNATdoc doesn't generate documentation for protected types.

  Status:     This was fixed in 17.0 on 2015-11-23

  Workaround: None.

KP-62-OB19-009 GPS: GNATdoc missing --version switch

  Problem:    GNATdoc did not have a version switch.

  Status:     This was fixed in 17.0 on 2015-11-20

  Workaround: Use GPS's version switch, since versions are the same

KP-62-OB18-028 GPS: Replace All corrupts edited source file

  Problem:    When the search pattern is longer than the replace string,
              "Replace All" is not working properly and could corrupt the
              edited file.

  Status:     This was fixed in 17.0 on 2015-11-25

  Workaround: Replace occurences one by one using "Replace & Find" function.

KP-62-OA29-031 WB: fixed ada problems markers not cleared automatically

  Problem:    Ada problem markers created during "compile ada file"
              action execution are not cleared by "(re)build project" action
              executions even if the errors are fixed.
              Ada problem markers created during "(re)build project" action
              execution cannot be cleared by "compile ada file" action
              executions.

  Status:     This was fixed in 17.0 on 2016-01-04

  Workaround: clear the markers manually or relaunch the action that had
              created the markers.

KP-62-OA28-042 GPS: memory leak linked to completions

  Problem:    Using the dynamic completion causes GPS to leak memory.

  Status:     This was fixed in 17.0 on 2015-11-20

  Workaround: None known, apart from deactivating the completion.

KP-62-OA15-033 GPS: gnatcov's report not fully displayed

  Problem:    GPS displays less then 1000 lines of gnatcov report.

  Status:     This was fixed in 17.0 on 2015-12-11

  Workaround: None.

KP-62-O921-051 GNATdoc: No source code snippet for subtypes

  Problem:    GNATdoc doesn't generate source code snippet for declarations of
              subtypes of enumeration type declared in another package.

  Status:     This was fixed in 17.0 on 2015-12-01

  Workaround: None.

KP-62-O820-024 GPS: debugging aggregated projects

  Problem:    If you are using aggregate projects, the /Debug/Initialize
              behaves incorrectly when the same main unit is part of multiple
              aggregated projects. Selecting any of the corresponding menu
              will always debug the executable in the context of the same
              aggregated project, and never the others.

  Status:     This was fixed in 17.0 on 2015-11-03

  Workaround: Initialize the debugger with no main unit, and manually type
              'file <exec_name>' in the debugger console.

KP-62-O723-009 GPS: specifying project for coding standard

  Problem:    The contextual menu "check coding standards" works on
              the root project rather than the selected project.

  Status:     This was fixed in 17.0 on 2016-01-28

  Workaround: Edit the gnatcheck.py file manually. Replace
              GPS.Project.root().file().name("Tools_Server") + '"""' by
              project.file().name("Tools_Server") + '"""'

KP-62-O326-012 GPS: C rename refactoring

  Problem:    Rename refactoring was not working in C/C++

  Status:     This was fixed in 17.0 on 2015-12-01

  Workaround: Manual renaming of the entity.

Known problems fixed in GPS 6.2.2 / GNATbench 2.10.2
----------------------------------------------------

KP-62-OC15-045 GNATdoc: crash processing record types with null components

  Problem:    GNATdoc cannot process record type declarations with null
              components.

  Status:     This was fixed in 6.2.2 on 2016-01-15

  Workaround: Add a dummy component to the record type.

KP-62-OB23-034 GNATdoc: compiling does not update cross references

  Problem:    Units containing subprograms with pre/post conditions may
              be incorrectly reported by GNATdoc as sources whose cross
              references are not up-to-date.

  Status:     This was fixed in 6.2.2 on 2016-01-15

  Workaround: None.

Known problems fixed in GPS 6.2.1 / GNATbench 2.10.1
----------------------------------------------------

KP-62-OC15-050 GPS: bitmap fonts not rendered correctly

  Problem:    Under UNIX/Linux, bitmap fonts are rendered with each glyph
              drawn backwards and not properly filled.

  Status:     This was fixed in 6.2.1 on 2015-12-23

  Workaround: Choose TrueType fonts instead of bitmap fonts.

KP-62-OC02-029 GB: cursor jumps to top of ada file when saved

  Problem:    When saving ada files edited by the Ada Editor, the content is
              scrolled to the top, and the cursor is moved to the first line
              first column.

  Status:     This was fixed in 2.10.1 on 2015-12-04

  Workaround: None.

KP-62-OB24-020 GPS: Navigating to included files doesn't work

  Problem:    Clicking on an included file directive in C/C++ did not navigate
              to the file anymore.

  Status:     This was fixed in 6.2.1 on 2015-11-24

  Workaround: Navigate to file by hand.

KP-62-OB24-007 GPS: "Remove SCIL&DB" removes unexpected directories

  Problem:    Removal of CodePeer's artifacts with the "Remove SCIL&DB" command
              also removes directories of externally built projects.

  Status:     This was fixed in 6.2.1 on 2015-12-09

  Workaround: Protect directories using OS utilities.

KP-62-OB17-052 GPS: Inconsistent Debug menu states

  Problem:    Sometimes the state of the Debug menu is not consistent with the
              debugger session: the menu is disabled when the debugger is
              active or vice-versa.

  Status:     This was fixed in 6.2.1 on 2015-11-18

  Workaround: Click in another window to move the focus.

KP-62-OB12-006 GPS: Locations are not restored on startup

  Problem:    Messages are not restored on startup when "Save locations on
              exit" feature of Locations view is enabled.

  Status:     This was fixed in 6.2.1 on 2015-11-17

  Workaround: Not necessary.

KP-62-OB02-020 GB: wrong linked source folder(s) automatically created

  Problem:    At startup or on GPR file/scenario variable change, wrong linked
              folders are automatically created for source folders.
              It occurs when the existing linked source folder is not a child
              of the project node, or on windows when there is case sensitive
              difference between folder name in GPR file and folder name in the
              file system.
              These wrong linked source folders may lead to problems in ada
              problems markers to ada source editor navigation.

  Status:     This was fixed in 2.10.1 on 2015-11-03

  Workaround: Remove the existing linked folders and let GNATbench create them.
              On windows, let folder names be case sensitive.

KP-62-OA07-003 GPS: Crash when using libclang cross references

  Problem:    Using the new libclang cross references engine causes GPS to
              crash in some scenarios

  Status:     This was fixed in 6.2.1 on 2015-11-24

  Workaround: Deactivate the libclang xref engine via the LIBCLANG_XREF
              trace

KP-62-O708-028 GNATdoc: Incorrect formatting of text for parameters

  Problem:    Trailing lines of description of parameter is generated as source
              code snippet when description of parameter is started at same
              line with @param tag and have more than two lines.

  Status:     This is fixed in 6.2.1 on 2015-12-25

  Workaround: Reformat description to start at next line after @param tag.
