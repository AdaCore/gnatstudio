CP              = cp -p
MKDIR           = mkdir -p
STRIP           = strip
INSTALL         = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@
INSTALL_DATA    = @INSTALL_DATA@
prefix          = @prefix@
bindir          = $(prefix)/bin
sharedir        = $(prefix)/share/make

default build compile link ada c c++ clean:
	$(MAKE) -s -C glide -f Makefile.gps $@

clean:
	$(RM) gnat/*.ad*
	$(MAKE) -s -C glide -f Makefile.gps $@

install-common:
	$(MKDIR) $(bindir)
	$(MKDIR) $(sharedir)
	$(INSTALL_DATA) gnat/Makefile.generic $(sharedir)
	$(INSTALL_DATA) gnat/Makefile.prolog $(sharedir)
	$(MAKE) -C docs install

install: install-common
	$(INSTALL_PROGRAM) glide/obj/gps $(bindir)
	$(MAKE) -C kernel/src_info/sn/snsrc install

install-strip: install-common
	$(INSTALL_PROGRAM) -s glide/obj/gps $(bindir)
	$(MAKE) -C kernel/src_info/sn/snsrc install-strip

gvd:
	$(MAKE) -s -C gvd -f Makefile.gvd EXEC=gvd ADA_SOURCES=gvd_main.adb

.PHONY: gvd install install-common install-strip
